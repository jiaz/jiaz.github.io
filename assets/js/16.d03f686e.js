(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{278:function(e,t,o){"use strict";o.r(t);var r=o(5),i=Object(r.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"gitignore-magic"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#gitignore-magic"}},[e._v("#")]),e._v(" gitignore Magic")]),e._v(" "),o("p",[e._v(".gitignore file looks simple. However, if I ask you the question:")]),e._v(" "),o("blockquote",[o("p",[e._v("What’s the difference between "),o("code",[e._v("log/*")]),e._v(" and "),o("code",[e._v("log/")]),e._v("?")])]),e._v(" "),o("p",[e._v("I bet most people cannot tell correctly.")]),e._v(" "),o("p",[e._v("I came across this question when I did a .gitignore file clean-up in my project. It took me a while to understand the difference and I find it super easy to be forgotten. After looking up the manual and doing experiments several times, I decide to write this post. Hope it can help those who think about this question as well.")]),e._v(" "),o("p",[e._v("You can find the documentation of .gitignore file "),o("a",{attrs:{href:"http://git-scm.com/docs/gitignore",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),o("OutboundLink")],1),e._v(".")]),e._v(" "),o("p",[e._v("Most rules are quite clear, however it does not include enough examples, especially for patterns involving "),o("code",[e._v("/")]),e._v(", the rules of which are not intuitive.")]),e._v(" "),o("p",[e._v("Let me rephrase them here. There are 3 basic rules for the patterns involving "),o("code",[e._v("/")]),e._v(":")]),e._v(" "),o("ol",[o("li",[e._v("If the pattern ends with "),o("code",[e._v("/")]),e._v(", the trailing slash is first removed then continue to process next rules. The matching result will be restricted to directory only.")]),e._v(" "),o("li",[e._v("If there is "),o("strong",[e._v("no "),o("code",[e._v("/")]),e._v(" in the pattern")]),e._v(", it uses the pattern to match "),o("strong",[e._v("all file or directory names regardless of the depth")]),e._v(". For example, "),o("code",[e._v("log")]),e._v(" matches "),o("code",[e._v("log")]),e._v(", "),o("code",[e._v("log/")]),e._v(" and "),o("code",[e._v("abc/log")]),e._v(". Another example with trailing slash, "),o("code",[e._v("log/")]),e._v(" matches "),o("code",[e._v("log/")]),e._v(", "),o("code",[e._v("abc/log/")]),e._v(" or "),o("code",[e._v("abc/efg/log/")]),e._v(".")]),e._v(" "),o("li",[e._v("If the "),o("strong",[e._v("pattern contains "),o("code",[e._v("/")])]),e._v(", it uses the pattern to match the "),o("strong",[e._v("full path relative to the .gitignore file")]),e._v(". That is, the full path will be considered rather than part of the filename. For example, "),o("code",[e._v("shared/log")]),e._v(" will match "),o("code",[e._v("shared/log")]),e._v(" or "),o("code",[e._v("shared/log/")]),e._v(", but not "),o("code",[e._v("abc/shared/log")])])]),e._v(" "),o("p",[e._v("So based on these rules, there is a subtle difference between "),o("code",[e._v("log/")]),e._v(" and "),o("code",[e._v("log/*")]),e._v(".")]),e._v(" "),o("p",[e._v("For "),o("code",[e._v("log/")]),e._v(", it will be processed according to Rule 1 and 2, which means it matches any directory named "),o("code",[e._v("log")]),e._v(". For example, it matches "),o("code",[e._v("log/")]),e._v(", "),o("code",[e._v("abc/log/")]),e._v(" or "),o("code",[e._v("abc/efg/log/")]),e._v(", no matter how deep the directory is.")]),e._v(" "),o("p",[e._v("However for "),o("code",[e._v("log/*")]),e._v(", it will be processed according to Rule 3, which means it matches only files or directories under root "),o("code",[e._v("log/")]),e._v(" directory. Here ‘root’ is the current .gitignore file path. For example, it matches "),o("code",[e._v("log/abc")]),e._v(" or "),o("code",[e._v("log/efg/")]),e._v(", but not "),o("code",[e._v("abc/log")]),e._v(" or "),o("code",[e._v("abc/log/")]),e._v(".")]),e._v(" "),o("p",[e._v("See, the handling of trailing slash is a little bit counterintuitive.")])])}),[],!1,null,null,null);t.default=i.exports}}]);