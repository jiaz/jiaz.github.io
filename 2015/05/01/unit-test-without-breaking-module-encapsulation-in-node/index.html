<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Unit Test without Breaking Encapsulation in Node | Jiaji&#39;s Blog</title>
    <meta name="description" content="">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
    
    <link rel="preload" href="/assets/css/0.styles.1f67bc9f.css" as="style"><link rel="preload" href="/assets/js/app.592312c9.js" as="script"><link rel="preload" href="/assets/js/4.66f2d894.js" as="script"><link rel="preload" href="/assets/js/5.96661c71.js" as="script"><link rel="preload" href="/assets/js/17.7a16a24f.js" as="script"><link rel="prefetch" href="/assets/js/1.005b66b8.js"><link rel="prefetch" href="/assets/js/10.c561e955.js"><link rel="prefetch" href="/assets/js/11.e3f5d2d1.js"><link rel="prefetch" href="/assets/js/12.cc21ebaf.js"><link rel="prefetch" href="/assets/js/13.0683d913.js"><link rel="prefetch" href="/assets/js/14.969c82c6.js"><link rel="prefetch" href="/assets/js/15.1a600f47.js"><link rel="prefetch" href="/assets/js/16.d03f686e.js"><link rel="prefetch" href="/assets/js/18.eb6677b9.js"><link rel="prefetch" href="/assets/js/19.2c8c095d.js"><link rel="prefetch" href="/assets/js/20.c02f0e6e.js"><link rel="prefetch" href="/assets/js/6.eb2ec798.js"><link rel="prefetch" href="/assets/js/7.1100521f.js"><link rel="prefetch" href="/assets/js/8.0008d7dc.js"><link rel="prefetch" href="/assets/js/9.e5bfcc2b.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.b1a75fd5.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1f67bc9f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuperess-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/" class="nav-link home-link">Jiaji's Blog</a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/" class="nav-link">Home</a></li><li class="nav-item"><a href="/tag/" class="nav-link">Tags</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/" class="nav-link mobile-home-link">Jiaji's Blog</a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/" class="nav-link">Home</a></li><li class="mobile-nav-item"><a href="/tag/" class="nav-link">Tags</a></li></ul></div></div></div> <div class="content-wrapper"><div id="vuperess-theme-blog__post-layout"><div class="vuepress-blog-theme-content"><div class="content__default"><h1 id="unit-test-without-breaking-encapsulation-in-node"><a href="#unit-test-without-breaking-encapsulation-in-node" class="header-anchor">#</a> Unit Test without Breaking Encapsulation in Node</h1> <h2 id="the-inconvenience-of-encapsulation"><a href="#the-inconvenience-of-encapsulation" class="header-anchor">#</a> The inconvenience of encapsulation</h2> <p>When writing unit tests, the most ugly &amp; painful &amp; stupid thing you might have to do is to expose some internal implementation of your module to the testing code so that:</p> <ul><li>It is easier to enumerate all possible conditional branches to cover some edge cases; (although if you have a complex design, you can always achieve this by mocking things, however sometimes it's an overkill)</li> <li>It is possible to inspect side effects of your code; (accept the dark side of the reality, you cannot totally avoid side effects)</li> <li>It is easier to replace some dependencies with mocks. (although if you have a good design, you should be able to inject all dependencies, but it's not a common thing in javascript realm)</li></ul> <p>Sometimes, you might even find yourself wasting a lot of precious time thinking about solutions to avoid writing such smelly code. But, hey! It's testing code! Shouldn't we have fun and enjoy writing it with all the power and flexibility we ought to have rather than struggling in these design holes? Why do we have to break core code for testing code?</p> <p>Recently I found an excellent library <a href="https://github.com/jhnns/rewire" target="_blank" rel="noopener noreferrer">rewire<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> that neatly solves this problem. Moreover, the idea behind it is really creative so that I'd like to share it in this post.</p> <p>Nothing is more valuable than an example. Let's try to make a really simple one. The code logic might not be very reasonable, just made for showing the problems and how rewire can solve them. You can find the whole example <a href="https://github.com/jiaz/rewire-example" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>Given the following scenario: You are implementing a log appender, which writes aggregated log messages to some database in batch. And somehow the database has throttling control so that you cannot write to it more than once per second. Here is something you might write.</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> db <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./db'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> batchSize <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> lastWriteTime <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">flushToDB</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    db<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    data <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    lastWriteTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

exports<span class="token punctuation">.</span><span class="token function-variable function">append</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    data <span class="token operator">+=</span> message <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">;</span>
    count <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> duration <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> lastWriteTime<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">&gt;=</span> batchSize <span class="token operator">&amp;&amp;</span> duration <span class="token operator">&gt;</span> <span class="token number">1000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">flushToDB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>Now you might want to write some test cases to test your code. The three basic cases might be:</p> <ul><li>The appender shouldn't flush until batch size is reached.</li> <li>The appender shouldn't flush twice within one second.</li> <li>The appender should flush when batch size is reached and more than 1 second is elapsed from last flush.</li></ul> <p>Here comes to the problems:</p> <ul><li>How do I know the batch size? It's not exposed anywhere. And probably it's a private information that need to be hidden in the module.</li> <li>How do I know if the <code>flushToDB</code> method is called?</li> <li>How do I change to a mock db for unit test?</li> <li>How do I easily control the <code>duration</code> so that the <code>if</code> branch can be tested without using some fancy thing to mock the datetime or wasting your test time for setTimeout?</li></ul> <p>The fundamental challenge is that we have hidden states in the module which are not supposed to be exposed.</p> <h2 id="here-comes-the-rewire"><a href="#here-comes-the-rewire" class="header-anchor">#</a> Here comes the rewire</h2> <p>rewire is a replacement for <code>require</code> for testing purpose. When it requires the module it also magically modifies your source code so that variables hidden in the module can be accessed and modified. Here is how you can use rewire to solve the above problems without touching the core module.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> rewire <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'rewire'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> assert <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'assert'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;LogAppender&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> logappender <span class="token operator">=</span> <span class="token function">rewire</span><span class="token punctuation">(</span><span class="token string">'../lib/logappender'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should not flush when append less than batchSize times'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> batchSize <span class="token operator">=</span> logappender<span class="token punctuation">.</span><span class="token function">__get__</span><span class="token punctuation">(</span><span class="token string">'batchSize'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> flushCalled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        logappender<span class="token punctuation">.</span><span class="token function">__set__</span><span class="token punctuation">(</span><span class="token string">'flushToDB'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            flushCalled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> batchSize <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            logappender<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        assert<span class="token punctuation">.</span><span class="token function">strictEqual</span><span class="token punctuation">(</span>flushCalled<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should flush when append more than batchSize times'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> batchSize <span class="token operator">=</span> logappender<span class="token punctuation">.</span><span class="token function">__get__</span><span class="token punctuation">(</span><span class="token string">'batchSize'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> flushCalled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        logappender<span class="token punctuation">.</span><span class="token function">__set__</span><span class="token punctuation">(</span><span class="token string">'flushToDB'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            flushCalled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> batchSize <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            logappender<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        assert<span class="token punctuation">.</span><span class="token function">strictEqual</span><span class="token punctuation">(</span>flushCalled<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should not flush when duration less than 1 second'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> batchSize <span class="token operator">=</span> logappender<span class="token punctuation">.</span><span class="token function">__get__</span><span class="token punctuation">(</span><span class="token string">'batchSize'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> flushCalled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        logappender<span class="token punctuation">.</span><span class="token function">__set__</span><span class="token punctuation">(</span><span class="token string">'flushToDB'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            flushCalled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        logappender<span class="token punctuation">.</span><span class="token function">__set__</span><span class="token punctuation">(</span><span class="token string">'lastWriteTime'</span><span class="token punctuation">,</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> batchSize <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            logappender<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        assert<span class="token punctuation">.</span><span class="token function">strictEqual</span><span class="token punctuation">(</span>flushCalled<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><p>And yeah, it runs successfully!</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ node_modules/mocha/bin/mocha


  LogAppender
    ✓ should not flush when append <span class="token function">less</span> than batchSize <span class="token builtin class-name">times</span>
    ✓ should flush when append <span class="token function">more</span> than batchSize <span class="token builtin class-name">times</span>
    ✓ should not flush when duration <span class="token function">less</span> than <span class="token number">1</span> second


  <span class="token number">3</span> passing <span class="token punctuation">(</span>5ms<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="the-idea-behind-the-scene"><a href="#the-idea-behind-the-scene" class="header-anchor">#</a> The idea behind the scene</h2> <p>I'm extremely interested how it implements the <code>__set__</code> and <code>__get__</code> function. How can they bind to the hidden variables in your module? So I step into the source code. It turns out that <code>eval</code> and closure does the magic. Let's take a close look at how <code>__set__</code> is implemented. <code>__get__</code> is very similar.</p> <p><strong>Key point 1:</strong> It modifies your source code to adding <code>__set__</code> functions to your code before requiring your module.</p> <p>This is important, in this way, the added function is in the same lexical scope of your module so that it can access the module's internal variables.</p> <p><strong>Key point 2:</strong> <code>__set__</code> uses <code>eval</code> function to execute the variable replacing code.</p> <p>Variables in the scope of <code>__set__</code> function are closed in the closure created by <code>eval</code> statement, thus in the <code>eval</code> function you can not only access the hidden variables in your module (inherited from the <code>__set__</code>  closure), but also access the variables in the <code>__set__</code> function. In this way, you can build a general function that can replace any declared variables in the module's scope.</p> <p>Literally it append the following function to your module's source code:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span><span class="token function-variable function">__set__</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">varName<span class="token punctuation">,</span> varValue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// here we can access the &quot;varName&quot; variable in the module and also the arguments of __set__ function.</span>
    <span class="token function">eval</span><span class="token punctuation">(</span>varName <span class="token operator">+</span> <span class="token string">&quot;= varValue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>This technique really opens my mind. It's so powerful and I believe it has a lot more practical applications. Hope you will also enjoy this library.</p></div> <hr> <!----></div></div></div> <footer class="footer" data-v-7966ce63><div class="footer-left-wrap" data-v-7966ce63><ul class="contact" data-v-7966ce63><li class="contact-item" data-v-7966ce63><a href="https://github.com/jiaz" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-7966ce63><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-7966ce63><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-7966ce63></path></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-7966ce63><ul class="copyright" data-v-7966ce63></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.592312c9.js" defer></script><script src="/assets/js/4.66f2d894.js" defer></script><script src="/assets/js/5.96661c71.js" defer></script><script src="/assets/js/17.7a16a24f.js" defer></script>
  </body>
</html>
