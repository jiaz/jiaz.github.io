<!DOCTYPE html>
<html><head>
    <title>Jiaji&#39;s Blog</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="generator" content="Hugo 0.62.0" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Jiaji&#39;s Blog</title>
    <meta name="description" content="" />

    
    <link type="text/css" rel="stylesheet" href="https://jiajizhou.com/css/poole.css">
    <link type="text/css" rel="stylesheet" href="https://jiajizhou.com/css/syntax.css">
    <link type="text/css" rel="stylesheet" href="https://jiajizhou.com/css/lanyon.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">

    <base href="https://jiajizhou.com/">
    <link rel="apple-touch-icon" sizes="180x180" href="https://jiajizhou.com/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://jiajizhou.com/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://jiajizhou.com/favicon-16x16.png">
    <link rel="manifest" href="https://jiajizhou.com/site.webmanifest">
    <link rel="canonical" href="https://jiajizhou.com/">
</head>
<body>
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
    <div class="sidebar-item">
        <p>Theme based on lanyon and powered by Hugo</p>
    </div>

    <nav class="sidebar-nav">
        <a class="sidebar-nav-item  active " href="https://jiajizhou.com/">Home</a>
        <a class="sidebar-nav-item "
            href="https://jiajizhou.com/post">Posts</a>

        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    </nav>

    <div class="sidebar-item">
        <p>&copy; 2018. All rights reserved.</p>
    </div>
</div>

    <div class="wrap">
        <div class="masthead">
            <div class="container">
                <h3 class="masthead-title">
                    <a href="https://jiajizhou.com/" title="Home">Jiaji&#39;s Blog</a>
                    <small></small>
                </h3>
            </div>
        </div>

        <div class="container content">




<div class="posts">
    
    <div class="post">
        <div class="post">
    <header>
        <h1 class="post-title"><a href="https://jiajizhou.com/2018/02/chaos-game/">Chaos Game</a></h1>
        <span class="post-date">Feb 5, 2018 - about 100 Words</span>
    </header>
    <p>最近在看 Interactive Computer Graphics: A Top-Down Approach with WebGL ，里面看到一个很有意思的几何问题，分享一下。</p>
    <footer>
        <a href="https://jiajizhou.com/2018/02/chaos-game/">
            <nobr>Read more →</nobr>
        </a>
    </footer>
</div>

    </div>
    
    <div class="post">
        <div class="post">
    <header>
        <h1 class="post-title"><a href="https://jiajizhou.com/2015/07/thread-local-context-in-node/">&#34;Thread-local&#34; Context in Node</a></h1>
        <span class="post-date">Jul 3, 2015 - about 1100 Words</span>
    </header>
    <p>Recently, I'm doing some experiments to try to rewrite our Nodejs service in a more maintainable style. I'd like to write several posts to share my findings.</p>
    <footer>
        <a href="https://jiajizhou.com/2015/07/thread-local-context-in-node/">
            <nobr>Read more →</nobr>
        </a>
    </footer>
</div>

    </div>
    
    <div class="post">
        <div class="post">
    <header>
        <h1 class="post-title"><a href="https://jiajizhou.com/2015/05/a-simple-http-load-testing-client-in-go/">A Simple HTTP Load Testing Client in Go</a></h1>
        <span class="post-date">May 17, 2015 - about 900 Words</span>
    </header>
    <p>Last week we try to reproduce an incident in our production system which is caused by an eleviation of HTTPS connection creation rate. The service was flooded by more than 2000 concurrent connections per server at peak.</p>
    <footer>
        <a href="https://jiajizhou.com/2015/05/a-simple-http-load-testing-client-in-go/">
            <nobr>Read more →</nobr>
        </a>
    </footer>
</div>

    </div>
    
    <div class="post">
        <div class="post">
    <header>
        <h1 class="post-title"><a href="https://jiajizhou.com/2015/05/unit-test-without-breaking-encapsulation-in-node/">Unit Test without Breaking Encapsulation in Node</a></h1>
        <span class="post-date">May 1, 2015 - about 1100 Words</span>
    </header>
    <p>When writing unit tests, the most ugly &amp; painful &amp; stupid thing you might have to do is to expose some internal implementation of your module to the testing code so that:</p>
<ul>
<li>It is easier to enumerate all possible conditional branches to cover some edge cases; (although if you have a complex design, you can always achieve this by mocking things, however sometimes it's an overkill)</li>
<li>It is possible to inspect side effects of your code; (accept the dark side of the reality, you cannot totally avoid side effects)</li>
<li>It is easier to replace some dependencies with mocks. (although if you have a good design, you should be able to inject all dependencies, but it's not a common thing in javascript realm)</li>
</ul>
    <footer>
        <a href="https://jiajizhou.com/2015/05/unit-test-without-breaking-encapsulation-in-node/">
            <nobr>Read more →</nobr>
        </a>
    </footer>
</div>

    </div>
    
    <div class="post">
        <div class="post">
    <header>
        <h1 class="post-title"><a href="https://jiajizhou.com/2015/04/node-profiling-tools/">Node Profiling Tools</a></h1>
        <span class="post-date">Apr 15, 2015 - about 2500 Words</span>
    </header>
    <p>At Hulu, we use Nodejs to build a <strong>proxy</strong> or <strong>orchestration</strong> service to expose APIs to our client applications in order to provide a unified interface (in API schema) which hides the complexity to deal with our versatile backend &ldquo;micro-services&rdquo;.</p>
<p>The reason we choose Nodejs over other technologies is that its <strong>asynchronized</strong> nature perfectly fits the requirements of the service:</p>
<ul>
<li>Handling large number of concurrent clients;</li>
<li>Requesting backend micro-services to get the data, where most of the time is spend on IO;</li>
<li>Enhancing the backend response with data from other backend micro-services.</li>
</ul>
<p>This is a typical front-tier API service that has <strong>low CPU</strong> consumption and <strong>high concurrent IO</strong> requirement.</p>
<p>However when you deploy the application to production, it is very likely that you would hit CPU bottleneck if you are not careful enough when writing code. Javascript is so flexible that can easily get you trapped into performance problem if you don't understand the execution engine (v8) well enough. Recently, I spent a lot of time doing profiling and investigating the performance issues of our service.</p>
<p>In this post, I'll list some tools and techniques I have used to profile/debug Nodejs program for daily development and production trouble-shooting as a summary of the work I've done.</p>
    <footer>
        <a href="https://jiajizhou.com/2015/04/node-profiling-tools/">
            <nobr>Read more →</nobr>
        </a>
    </footer>
</div>

    </div>
    
</div>

<div class="pagination">
    
    <a class="pagination-item older" href="/page/2/">Older</a>
    

    
    <span class="pagination-item newer">Newer</span>
    
</div>


        </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label></body>

</html>
